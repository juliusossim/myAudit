(this["webpackJsonpcrowd-funding-web"]=this["webpackJsonpcrowd-funding-web"]||[]).push([[12],{319:function(e,t,a){"use strict";a.d(t,"d",(function(){return v})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return b}));var n=a(63),o=a.n(n),r=a(95),i=a(325),l=a.n(i),d=(a(29),"cfonboarding/"),c="cfcore/",s={LOGIN:"".concat(d).concat("Account/authenticate"),REGISTER:"".concat(d).concat("Account/register"),REGISTER_CORPORATE:"".concat(d).concat("Account/register/corporate"),VERIFY_INDIVIDUAL:"".concat(d).concat("Verification/personal"),VERIFY_CORPORATE:"".concat(d).concat("Verification/corporate"),VERIFY_ACCOUNT_OTP:"".concat(d).concat("Verification/verifyotp"),SEND_ACCOUNT_OTP:"".concat(d).concat("Verification/request"),REGISTER_INDIVIDUAL:"".concat(d).concat("Account/register/individual"),CHANGE_PASSWORD:"".concat(d).concat("Account/change_password"),RESET_PASSWORD:"".concat(d).concat("Account/reset_password"),FORGOT_PASSWORD:"".concat(d).concat("Account/forgot_password"),PROFILE_PICTURE:"".concat(c).concat("Uploads/profilepic"),PROJECT_MEDIA:"".concat(c).concat("Uploads/project"),DELETE_PROJECT_MEDIA:"".concat(c).concat("Uploads/project"),LOGO:"".concat(c).concat("Uploads/logo"),CREATE_PROJECT_NAME:"".concat(c).concat("Projects/createbyname"),CREATE_PROJECT:"".concat(c).concat("Projects"),VIEW_PROJECTS:"".concat(c).concat("Projects"),VIEW_PROJECT:"".concat(c).concat((function(e){return"Projects/".concat(e)})),EDIT_PROJECT:"".concat(c).concat("Projects"),DELETE_PROJECT:"".concat(c).concat((function(e){return"Projects/".concat(e)})),EDIT_PROJECT_UPDATES:"".concat(c).concat((function(e){return"ProjectUpdates"})),PROJECT_UPDATES:"".concat(c).concat((function(e){return"ProjectUpdates"})),UPDATE_PROJECT:"".concat(c).concat((function(e){return"ProjectUpdates"})),PROJECT_DETAILS:"".concat(c).concat((function(e){return"Projects"})),PROJECT_SUMMARY:"".concat(c).concat((function(e){return"Projects"})),PROJECT_BY_STATUS:"".concat(c).concat("Projects/byPublishStatus"),SUBMIT_PROJECT:"".concat(c).concat("Projects"),PROJECT_CATEGORIES:"".concat(c).concat("categories"),ME:"".concat(d).concat("/Profiles/me")},u=(a(5),a(35),function(){var e=Object(r.a)(o.a.mark((function e(t,a,n,i,d,c,u,v,p){var m,b,j,g,h,f,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m={"Content-Type":u?"multipart/form-data":"application/json"},b=s[t]||t,j="".concat("http://51.124.145.166/").concat(b),c&&(j+="/".concat(c)),v&&(j+="/".concat(v)),d&&(g=Object.keys(d).map((function(e){return d[e]&&"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(d[e]))})),j+="?".concat(g.join("&"))),n&&(h=localStorage.getItem("token"),m.Authorization="Bearer ".concat(h)),f={url:j,method:a,headers:m},i&&(f.data=i),p&&(O=0,f.onUploadProgress=function(e){var t=e.loaded,a=e.total;O=Math.floor(t/a*100),p(O)}),e.abrupt("return",l()(f).then((function(e){return e}),function(){var e=Object(r.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||null===(a=t.response)||void 0===a||a.status,e.abrupt("return",null===t||void 0===t||null===(n=t.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.errors);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:case"end":return e.stop()}}),e)})));return function(t,a,n,o,r,i,l,d,c){return e.apply(this,arguments)}}()),v=function(e){var t=e.file,a=e.method,n=e.url,o=e.handleProgress,r=0,i=new FormData;i.append("file",t),l()({baseURL:"",method:a||"post",url:n,data:i,onUploadProgress:function(e){var t=e.loaded,a=e.total;r=Math.floor(t/a*100),o(r)}}).then((function(e){console.log(e)}))},p=function(e){var t=e.endpoint,a=e.pQuery,n=e.param,o=void 0===n?null:n,r=e.auth;return u(t,"GET",void 0===r||r,null,a,o)},m=function(e){var t=e.endpoint,a=e.body,n=e.auth,o=void 0===n||n,r=e.multipart,i=e.param,l=e.afterParam,d=e.setProgress;return u(t,"POST",o,a,null,i,r,l,d)},b=function(e){var t=e.endpoint,a=e.body,n=e.param,o=e.pQuery,r=e.auth,i=void 0===r||r,l=e.multipart;return u(t,"PATCH",i,a,o,n,l)}},323:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return c}));var n=a.p+"static/media/Rectangle 19.e405d171.svg",o=a.p+"static/media/Rectangle 19 (1).caf8d0fb.svg",r=a.p+"static/media/Rectangle 19 (2).41040764.svg",i=a.p+"static/media/Rectangle 19 (3).233236d8.svg",l=["select item...",{id:1,type:"corporate",desc:"corporate project",value:2},{id:3,type:"individual",desc:"individual project",value:1}],d=[{id:1,photo:n,name:"operation feed the nation",target:4250250,raised:234002,duration:30,created_at:"01/03/2021",manager_name:"Julius Ossim",location:"abuja, nigeria",description:"Nigeria is a black nation inhabited by great minds but rule by imbeciles. The country is ravaged by rampaging hunger"},{id:2,photo:o,name:"operation feed the nation",manager_name:"Julius Ossim",target:4250250,raised:2940002,duration:30,created_at:"04/03/2021",location:"abuja, nigeria",description:"Nigeria is a black nation inhabited by great minds but rule by imbeciles. The country is ravaged by rampaging hunger"},{id:3,photo:r,name:"operation feed the nation",manager_name:"Julius Ossim",target:4250250,raised:2340002,duration:30,created_at:"03/03/2021",location:"abuja, nigeria",description:"Nigeria is a black nation inhabited by great minds but rule by imbeciles. The country is ravaged by rampaging hunger"},{id:4,photo:i,name:"operation feed the nation",manager_name:"Julius Ossim",target:4250250,raised:294002,duration:30,created_at:"04/02/2021",location:"abuja, nigeria",description:"Nigeria is a black nation inhabited by great minds but rule by imbeciles. The country is ravaged by rampaging hunger"}],c=["education","technology","business","agriculture","sports","charity","emergency","health","finance","community","NGOs","government"]},438:function(e,t,a){"use strict";a.r(t);var n=a(63),o=a.n(n),r=a(95),i=a(96),l=a(340),d=a(1),c=a(47),s=a(2),u=a(29),v=a.n(u),p=a(98),m=a(445),b=a(428),j=a(426),g=a(339),h=a.n(g),f=a(328),O=a(315),y=a(316),x=a(97),C=a(323),T=function(e){var t=e.formData,a=e.categories,n=e.multiple,o=e.removeItem,r=e.setFormData,i=e.skeleton,l=e.excuseSkeleton,d=e.progress,c=e.handleBlur,s=e.handleChange,u=e.btnMethod,v=e.loading,p=e.errors,m=[{kind:"input",props:{className:"w-100 m-b-20",name:"title",helperText:"click outside this box to save",type:"text",label:"Project Name",skeleton:i,excuseSkeleton:l,value:(null===t||void 0===t?void 0:t.title)||"",validations:{required:!0},loading:v,btn:{class:"ml-18w bg-transparent text-wema",text:"Try Again",success:"Project initialized"},btnMethod:u,error:null===p||void 0===p?void 0:p.title,onBlur:c,onChange:s}},{kind:"file_input",props:{className:"w-100 m-b-20",name:"media",label:"Project Media (images and videos)",text:"Add Media",value:(null===t||void 0===t?void 0:t.project_media)||"",file:(null===t||void 0===t?void 0:t.file)||"",multiple:n,removeItem:o,skeleton:i,excuseSkeleton:l,setFormData:r,progress:d,validations:{required:!0,pattern:O.k.image},error:null===p||void 0===p?void 0:p.project_media,onBlur:c,onChange:s}},{kind:"text_area",props:{className:"w-100 m-b-20",name:"summary",placeholder:"type your description here...",label:"Short Description",skeleton:i,excuseSkeleton:l,value:(null===t||void 0===t?void 0:t.summary)||"",validations:{maxLength:200},error:null===p||void 0===p?void 0:p.summary,onBlur:c,onChange:s}},{kind:"select",props:{className:"w-100 m-b-20",name:"projectType",label:"Project Type",optionIndex:"type",valueIndex:"value",skeleton:i,excuseSkeleton:l,value:(null===t||void 0===t?void 0:t.projectType)||"",options:C.b,validations:{required:!0},error:null===p||void 0===p?void 0:p.projectType,onBlur:c,onChange:s}},{kind:"select",props:{className:"w-100 m-b-20",name:"categoryId",label:"Project Category",options:a,optionIndex:"name",valueIndex:"id",skeleton:i,excuseSkeleton:l,titleIndex:"description",value:(null===t||void 0===t?void 0:t.categoryId)||"",validations:{required:!0},error:null===p||void 0===p?void 0:p.categoryId,onBlur:c,onChange:s}},{kind:"currency",props:{className:"w-100 m-b-20",name:"donationTarget",label:"Target Amount",type:"text",skeleton:i,excuseSkeleton:l,value:(null===t||void 0===t?void 0:t.donationTarget)||"",validations:{required:!0},error:null===p||void 0===p?void 0:p.donationTarget,onBlur:c,onChange:s}}],b=[{kind:"input",props:{className:"w-100 m-b-20",name:"title",type:"text",skeleton:i,excuseSkeleton:l,label:"Project Name",value:(null===t||void 0===t?void 0:t.title)||"",helperText:"click outside this box to save",validations:{required:!0},loading:v,btn:{class:"ml-18w bg-transparent text-wema",text:"Try Again",success:"Project initialized"},btnMethod:u,error:null===p||void 0===p?void 0:p.title,onBlur:c,onChange:s}},{kind:"file_input",props:{className:"w-100 m-b-20",name:"media",label:"Project Media (images and videos)",text:"Add Media",skeleton:i,excuseSkeleton:l,value:(null===t||void 0===t?void 0:t.project_media)||"",file:(null===t||void 0===t?void 0:t.file)||"",multiple:n,removeItem:o,setFormData:r,progress:d,validations:{required:!0,pattern:O.k.image},error:null===p||void 0===p?void 0:p.project_media,onBlur:c,onChange:s}},{kind:"text_area",props:{className:"w-100 m-b-20",name:"summary",placeholder:"type your description here...",skeleton:i,excuseSkeleton:l,label:"Short Description",value:(null===t||void 0===t?void 0:t.summary)||"",validations:{maxLength:200},error:null===p||void 0===p?void 0:p.summary,onBlur:c,onChange:s}},{kind:"select",props:{className:"w-100 m-b-20",name:"categoryId",label:"Project Category",options:a,optionIndex:"name",valueIndex:"id",titleIndex:"description",skeleton:i,excuseSkeleton:l,value:(null===t||void 0===t?void 0:t.categoryId)||"",validations:{required:!0},error:null===p||void 0===p?void 0:p.categoryId,onBlur:c,onChange:s}},{kind:"currency",props:{className:"w-100 m-b-20",name:"donationTarget",label:"Target Amount",skeleton:i,excuseSkeleton:l,type:"text",value:(null===t||void 0===t?void 0:t.donationTarget)||"",validations:{required:!0},error:null===p||void 0===p?void 0:p.donationTarget,onBlur:c,onChange:s}}];return"User"===JSON.parse(localStorage.getItem("user")).role?b:m},k=function(e){var t=e.formData,a=e.states,n=e.lgas,o=e.handleBlur,r=e.handleChange,i=e.handleDateChange,l=e.skeleton,d=e.excuseSkeleton,c=e.errors;return[{kind:"input",props:{className:"w-100 m-b-20",name:"projectAddress",label:"Project Address",skeleton:l,excuseSkeleton:d,value:(null===t||void 0===t?void 0:t.projectAddress)||"",validations:{required:!1},error:null===c||void 0===c?void 0:c.projectAddress,onBlur:o,onChange:r}},{kind:"select2",props:{className:"w-100 m-b-20 col-6",name:"state",label:"State",options:a,optionIndex:"name",skeleton:l,excuseSkeleton:d,value:(null===t||void 0===t?void 0:t.state)||"",validations:{required:!1},error:null===c||void 0===c?void 0:c.state,onBlur:o,onChange:r}},{kind:"select2",props:{className:"w-100 m-b-20 col-6",name:"city",label:"LGA",options:n,optionIndex:"name",skeleton:l,excuseSkeleton:d,valueIndex:"id",titleIndex:"description",value:t.city||"",validations:{required:!0},error:null===c||void 0===c?void 0:c.categoryId,onBlur:o,onChange:r}},{kind:"date",props:{className:"w-100 m-b-20 col-6",variant:"static",disablePast:!0,name:"startDate",label:"Start Date",type:"date",skeleton:l,excuseSkeleton:d,helperText:"it may take about 5 working days to get your project approved",value:(null===t||void 0===t?void 0:t.startDate)||"",validations:{required:!0},error:null===c||void 0===c?void 0:c.startDate,onBlur:o,onChange:i}},{kind:"date",props:{className:"w-100 m-b-20 col-6",variant:"static",minDate:new Date,disablePast:!0,name:"endDate",label:"End Date",skeleton:l,excuseSkeleton:d,helperText:"consider padding for approval delays.",type:"date",value:(null===t||void 0===t?void 0:t.endDate)||"",validations:{required:!0},error:null===c||void 0===c?void 0:c.endDate,onBlur:o,onChange:i}},{kind:"text_area",props:{className:"w-100 m-b-20",name:"description",placeholder:"type your description here...",label:"Description",skeleton:l,excuseSkeleton:d,value:(null===t||void 0===t?void 0:t.description)||"",validations:{maxLength:500},error:null===c||void 0===c?void 0:c.description,onBlur:o,onChange:r}}]},E=function(e){var t=e.formData,a=e.categories,n=e.loading,o=e.btnMethod,r=e.multiple,i=e.removeItem,l=e.setFormData,d=e.progress,c=e.handleBlur,s=e.handleChange,u=e.handleDateChange,v=e.errors,p=[{kind:"input",props:{className:"w-100 m-b-20",name:"title",type:"text",label:"Project Name",value:(null===t||void 0===t?void 0:t.title)||"",validations:{required:!0},loading:n,btn:{class:"ml-18w bg-transparent text-wema",text:"Try Again",success:"Project initialized"},btnMethod:o,error:null===v||void 0===v?void 0:v.title,onBlur:c,onChange:s}},{kind:"file_input",props:{className:"w-100 m-b-20",name:"media",label:"Project Media (images and videos)",text:"Add Media",value:(null===t||void 0===t?void 0:t.project_media)||"",file:(null===t||void 0===t?void 0:t.file)||"",multiple:r,removeItem:i,setFormData:l,progress:d,validations:{required:!0,pattern:O.k.image},error:null===v||void 0===v?void 0:v.project_media,onBlur:c,onChange:s}},{kind:"text_area",props:{className:"w-100 m-b-20",name:"summary",placeholder:"type your description here...",label:"Short Description",value:(null===t||void 0===t?void 0:t.summary)||"",validations:{maxLength:200},error:null===v||void 0===v?void 0:v.summary,onBlur:c,onChange:s}},{kind:"select",props:{className:"w-100 m-b-20",name:"categoryId",label:"Project Category",options:a,optionIndex:"name",valueIndex:"id",titleIndex:"description",value:(null===t||void 0===t?void 0:t.categoryId)||"",validations:{required:!0},error:null===v||void 0===v?void 0:v.categoryId,onBlur:c,onChange:s}},{kind:"currency",props:{className:"w-100 m-b-20",name:"donationTarget",label:"Target Amount",type:"text",value:(null===t||void 0===t?void 0:t.donationTarget)||"",validations:{required:!0},error:null===v||void 0===v?void 0:v.donationTarget,onBlur:c,onChange:s}},{kind:"input",props:{className:"w-100 m-b-20",name:"projectAddress",label:"Project Address",value:(null===t||void 0===t?void 0:t.projectAddress)||"",validations:{required:!1},error:null===v||void 0===v?void 0:v.projectAddress,onBlur:c,onChange:s}},{kind:"select2",props:{className:"w-100 m-b-20 col-6",name:"state",label:"State",options:h.a.states(),optionIndex:"name",value:(null===t||void 0===t?void 0:t.state)||"",validations:{required:!1},error:null===v||void 0===v?void 0:v.state,onBlur:c,onChange:s}},{kind:"select2",props:{className:"w-100 m-b-20 col-6",name:"city",label:"LGA",options:h.a.lgas(t.state).lgas,optionIndex:"name",valueIndex:"id",titleIndex:"description",value:t.city||"",validations:{required:!0},error:null===v||void 0===v?void 0:v.categoryId,onBlur:c,onChange:s}},{kind:"date",props:{className:"w-100 m-b-20 col-6",variant:"static",disablePast:!0,name:"startDate",helperText:"it may take about 5 working days to get your project approved",label:"Start Date",type:"date",value:(null===t||void 0===t?void 0:t.startDate)||"",validations:{required:!0},error:null===v||void 0===v?void 0:v.startDate,onBlur:c,onChange:u}},{kind:"date",props:{className:"w-100 m-b-20 col-6",variant:"static",minDate:new Date,disablePast:!0,name:"endDate",label:"End Date",helperText:"consider padding for approval delays.",type:"date",value:(null===t||void 0===t?void 0:t.endDate)||"",validations:{required:!0},error:null===v||void 0===v?void 0:v.endDate,onBlur:c,onChange:u}},{kind:"text_area",props:{className:"w-100 m-b-20",name:"description",placeholder:"type your description here...",label:"Description",value:(null===t||void 0===t?void 0:t.description)||"",validations:{maxLength:500},error:null===v||void 0===v?void 0:v.description,onBlur:c,onChange:s}}],m=[{kind:"input",props:{className:"w-100 m-b-20",name:"title",type:"text",label:"Project Name",value:(null===t||void 0===t?void 0:t.title)||"",validations:{required:!0},loading:n,btn:{class:"ml-18w bg-transparent text-wema",text:"Try Again",success:"Project initialized"},btnMethod:o,error:null===v||void 0===v?void 0:v.title,onBlur:c,onChange:s}},{kind:"file_input",props:{className:"w-100 m-b-20",name:"media",label:"Project Media (images and videos)",text:"Add Media",value:(null===t||void 0===t?void 0:t.project_media)||"",file:(null===t||void 0===t?void 0:t.file)||"",multiple:r,removeItem:i,setFormData:l,progress:d,validations:{required:!0,pattern:O.k.image},error:null===v||void 0===v?void 0:v.project_media,onBlur:c,onChange:s}},{kind:"text_area",props:{className:"w-100 m-b-20",name:"summary",placeholder:"type your description here...",label:"Short Description",value:(null===t||void 0===t?void 0:t.summary)||"",validations:{maxLength:200},error:null===v||void 0===v?void 0:v.summary,onBlur:c,onChange:s}},{kind:"select",props:{className:"w-100 m-b-20",name:"projectType",label:"Project Type",optionIndex:"type",valueIndex:"value",value:(null===t||void 0===t?void 0:t.projectType)||"",options:C.b,validations:{required:!0},error:null===v||void 0===v?void 0:v.projectType,onBlur:c,onChange:s}},{kind:"select",props:{className:"w-100 m-b-20",name:"categoryId",label:"Project Category",options:a,optionIndex:"name",valueIndex:"id",value:(null===t||void 0===t?void 0:t.categoryId)||"",validations:{required:!0},error:null===v||void 0===v?void 0:v.categoryId,onBlur:c,onChange:s}},{kind:"currency",props:{className:"w-100 m-b-20",name:"donationTarget",label:"Target Amount",type:"text",value:(null===t||void 0===t?void 0:t.donationTarget)||"",validations:{required:!0},error:null===v||void 0===v?void 0:v.donationTarget,onBlur:c,onChange:s}},{kind:"input",props:{className:"w-100 m-b-20",name:"projectAddress",label:"Project Address",value:(null===t||void 0===t?void 0:t.projectAddress)||"",validations:{required:!1},error:null===v||void 0===v?void 0:v.projectAddress,onBlur:c,onChange:s}},{kind:"select2",props:{className:"w-100 m-b-20 col-6",name:"state",label:"State",options:h.a.states(),optionIndex:"name",value:(null===t||void 0===t?void 0:t.state)||"",validations:{required:!1},error:null===v||void 0===v?void 0:v.state,onBlur:c,onChange:s}},{kind:"select2",props:{className:"w-100 m-b-20 col-6",name:"city",label:"LGA",options:h.a.lgas(t.state).lgas,optionIndex:"name",valueIndex:"id",titleIndex:"description",value:t.city||"",validations:{required:!0},error:null===v||void 0===v?void 0:v.categoryId,onBlur:c,onChange:s}},{kind:"date",props:{className:"w-100 m-b-20 col-6",variant:"static",disablePast:!0,name:"startDate",helperText:"it may take about 5 working days to get your project approved",label:"Start Date",type:"date",value:(null===t||void 0===t?void 0:t.startDate)||"",validations:{required:!0},error:null===v||void 0===v?void 0:v.startDate,onBlur:c,onChange:u}},{kind:"date",props:{className:"w-100 m-b-20 col-6",variant:"static",minDate:new Date,disablePast:!0,name:"endDate",label:"End Date",helperText:"consider padding for approval delays.",type:"date",value:(null===t||void 0===t?void 0:t.endDate)||"",validations:{required:!0},error:null===v||void 0===v?void 0:v.endDate,onBlur:c,onChange:u}},{kind:"text_area",props:{className:"w-100 m-b-20",name:"description",placeholder:"type your description here...",label:"Description",value:(null===t||void 0===t?void 0:t.description)||"",validations:{maxLength:500},error:null===v||void 0===v?void 0:v.description,onBlur:c,onChange:s}}];return"User"===JSON.parse(localStorage.getItem("user")).role?p:m},P=a(319),w=a(5),I=function(e,t,a){return function(){var n=Object(r.a)(o.a.mark((function n(r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(t(e)),n.abrupt("return",e.then((function(e){return a({response:e,dispatch:r})})));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},N=function(e){var t=Object(P.b)({endpoint:"EDIT_PROJECT",auth:!0,body:e,param:e.id});return I(t,(function(e){return{type:w.a.EDIT_PROJECT_PENDING,request:e}}),(function(e){var t,a=e.response,n=e.dispatch;200===(null===a||void 0===a?void 0:a.status)?n(function(e){return{type:w.a.EDIT_PROJECT_SUCCESS,response:e}}(null===a||void 0===a?void 0:a.data)):n((t=a,{type:w.a.EDIT_PROJECT_FAILURE,error:t}))}))},S=function(e){var t=Object(P.c)({endpoint:"SUBMIT_PROJECT",auth:!0,body:e,param:e.id,afterParam:"submit"});return I(t,(function(e){return{type:w.a.PROJECT_PENDING,request:e}}),(function(e){var t,a=e.response,n=e.dispatch;200===(null===a||void 0===a?void 0:a.status)?n(function(e){return{type:w.a.PROJECT_SUCCESS,response:e}}(null===a||void 0===a?void 0:a.data)):n((t=a,{type:w.a.PROJECT_FAILURE,error:t}))}))},_=function(){var e=Object(P.a)({endpoint:"PROJECT_BY_STATUS",auth:!0});return I(e,(function(e){return{type:w.a.PROJECT_BY_STATUS_PENDING,request:e}}),(function(e){var t,a=e.response,n=e.dispatch;200===(null===a||void 0===a?void 0:a.status)?n(function(e){return{type:w.a.PROJECT_BY_STATUS_SUCCESS,response:e}}(null===a||void 0===a?void 0:a.data)):n((t=a,{type:w.a.PROJECT_BY_STATUS_FAILURE,error:t}))}))},D=a(3),R=function(e){var t=e.status,a=e.data,n=e.setShow,o=e.handleClose,r=e.text;return Object(D.jsx)("div",{className:"failed"===t?"mt-5 p-5":"mt-5 p-5 bg-wema",children:Object(D.jsx)("div",{className:"text-white",children:Object(D.jsxs)("div",{children:[Object(D.jsx)("h5",{className:"center-text text-muted",children:t}),"failed"===t?Object(D.jsxs)("div",{children:[Object(D.jsx)("ul",{children:Object(O.h)(a).map((function(e){return"undefined"!==typeof e&&Object(D.jsx)("li",{className:"text-warning",children:e},"".concat(new Date))}))}),Object(D.jsx)("button",{onClick:function(){return n(!1)},type:"button",className:"btn w-25 center btn-small float-right",children:"Ok"})]}):Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{children:r}),Object(D.jsx)("p",{className:"d-none",children:"success"===t&&setTimeout(o,3e3)})]})]})})})};t.default=function(){var e,t,a,n,u,g,C,I,A,B,J,U,q,L,M,G,F,Y,V,z,W,H=Object(p.b)(),Q=Object(p.c)((function(e){return e.project})),K=Object(s.useState)({file:[],projectType:10,categoryId:10,state:"lagos",startDate:new Date,endDate:new Date}),X=Object(c.a)(K,2),Z=X[0],$=X[1],ee=Object(s.useState)(0),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],oe=Object(s.useState)(1),re=Object(c.a)(oe,2),ie=re[0],le=re[1],de=Object(s.useState)({}),ce=Object(c.a)(de,2),se=ce[0],ue=ce[1],ve=Object(s.useState)(!1),pe=Object(c.a)(ve,2),me=pe[0],be=pe[1],je=Object(s.useState)(!1),ge=Object(c.a)(je,2),he=(ge[0],ge[1],Object(s.useState)(null)),fe=Object(c.a)(he,2),Oe=fe[0],ye=fe[1],xe=Object(s.useState)(!1),Ce=Object(c.a)(xe,2),Te=Ce[0],ke=Ce[1],Ee=Object(s.useState)(!1),Pe=Object(c.a)(Ee,2),we=Pe[0],Ie=Pe[1],Ne=Object(s.useState)([]),Se=Object(c.a)(Ne,2),_e=Se[0],De=Se[1],Re=Object(s.useState)(!1),Ae=Object(c.a)(Re,2),Be=Ae[0],Je=Ae[1],Ue=function(){var e,t,a,n,o,r,i,l,c,s,u,v=Object(d.a)({id:null===Q||void 0===Q||null===(e=Q.project)||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.id},Z),p=void 0!==(null===Q||void 0===Q||null===(n=Q.projectCategories)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.data)&&(l=null===Q||void 0===Q||null===(r=Q.projectCategories)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.data,c="id",s=Z.categoryId,void l.findIndex((function(e){return e[c]===s&&e})));Object(y.d)(v.description)&&(v.description="\n  Hi my name is ".concat((null===Oe||void 0===Oe?void 0:Oe.name)||"anonymous",", I work at ").concat(null===Oe||void 0===Oe||null===(u=Oe.company)||void 0===u?void 0:u.name,"\n  I am appealing to the general public to join in raising funds to support our ").concat((null===p||void 0===p?void 0:p.name)||Z.title,"\n  "));$(v),H(N(v))},qe=function(){$(Object(d.a)(Object(d.a)({},Z),{},{file:"",logo_id:""}))},Le=function(e){var t=null===e||void 0===e?void 0:e.target,a=t.name,n=t.value,c=t.files;if(Fe(a),"media"===a&&Z.file.indexOf(-1===c[0])){$(Object(d.a)(Object(d.a)({},Z),{},{file:[].concat(Object(l.a)(Z.file),[c[0]])}));(c[0].size/1024/1024).toFixed(3);H(function(e){var t=e.payload,a=e.setProgress,n=function(e){return{type:w.a.UPLOAD_LOGO_SUCCESS,response:e}},i=new FormData;return i.append("file",t.file),function(){var e=Object(r.a)(o.a.mark((function e(r){var l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=Object(P.c)({endpoint:"PROJECT_MEDIA",auth:!0,body:i,setProgress:a,param:t.id,multipart:!0}),r((o=l,{type:w.a.UPLOAD_LOGO_PENDING,request:o})),e.abrupt("return",l.then((function(e){var t;200===(null===e||void 0===e?void 0:e.status)?r(n(null===e||void 0===e?void 0:e.data)):r((t=e,{type:w.a.UPLOAD_LOGO_FAILURE,error:t}))})));case 3:case"end":return e.stop()}var o}),e)})));return function(t){return e.apply(this,arguments)}}()}({payload:{file:c[0],id:Q.project.data.data.id},setProgress:ne}))}else{var s=n;"projectType"!==a&&"categoryId"!==a||(s=Number(s)),$((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(i.a)({},a,s))}))}return!0},Me=function(e){var t=e.date,a=e.name;return $(Object(d.a)(Object(d.a)({},Z),{},Object(i.a)({},a,t)))},Ge=function(e,t){var a,n,l,c=e.target,s=c.name,u=c.value,v=Object(y.a)(s);"title"!==s||Object(y.d)(u)||(Ie(!0),void 0===(null===Q||void 0===Q||null===(a=Q.project)||void 0===a||null===(n=a.data)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.id)?(ke(!1),H(function(e){var t=function(e){return{type:w.a.PROJECT_SUCCESS,response:e}};return function(){var a=Object(r.a)(o.a.mark((function a(n){var r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Object(P.c)({endpoint:"CREATE_PROJECT_NAME",auth:!0,body:e}),n((o=r,{type:w.a.PROJECT_PENDING,request:o})),a.abrupt("return",r.then((function(e){var a;200===(null===e||void 0===e?void 0:e.status)||201===(null===e||void 0===e?void 0:e.status)?n(t(null===e||void 0===e?void 0:e.data)):n((a=(null===e||void 0===e?void 0:e.errors)?e.errors:e,{type:w.a.PROJECT_FAILURE,error:a}))})));case 3:case"end":return a.stop()}var o}),a)})));return function(e){return a.apply(this,arguments)}}()}(Object(i.a)({},v,u)))):Ue());"undefined"!==typeof v&&ue(Object(d.a)(Object(d.a)({},se),{},Object(i.a)({},s,Object(O.i)(t,v,u))))},Fe=Object(s.useCallback)((function(e){"title"!==e&&Ie(!1)}),[we]),Ye=function(e){var t=Object(l.a)(Z.file),a=t.indexOf(e);t.splice(a,1),$(Object(d.a)(Object(d.a)({},Z),{},{file:Object(l.a)(t)}))};Object(s.useCallback)(Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(_());case 1:case"end":return e.stop()}}),e)}))),[]);return Object(s.useEffect)((function(){var e;De(null===(e=h.a.lgas(Z.state))||void 0===e?void 0:e.lgas)}),[Z]),Object(s.useEffect)((function(){v.a.getItem("user").then((function(e){var t;ye(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user)})),H(function(){var e=function(e){return{type:w.a.PROJECT_CATEGORIES_SUCCESS,response:e}};return function(){var t=Object(r.a)(o.a.mark((function t(a){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(P.a)({endpoint:"PROJECT_CATEGORIES"}),a((o=n,{type:w.a.PROJECT_CATEGORIES_PENDING,request:o})),t.abrupt("return",n.then((function(t){var n;200===(null===t||void 0===t?void 0:t.status)||201===(null===t||void 0===t?void 0:t.status)?a(e(null===t||void 0===t?void 0:t.data)):a((n=(null===t||void 0===t?void 0:t.errors)?t.errors:t,{type:w.a.PROJECT_CATEGORIES_FAILURE,error:n}))})));case 3:case"end":return t.stop()}var o}),t)})));return function(e){return t.apply(this,arguments)}}()}())}),[]),Object(s.useEffect)((function(){var e,t,a,n,o,r;"failed"!==(null===(e=Q.project)||void 0===e?void 0:e.status)&&"success"!==(null===(t=Q.project)||void 0===t?void 0:t.status)||be(!0),"success"===(null===(a=Q.project)||void 0===a?void 0:a.status)&&void 0!==(null===(n=Q.project)||void 0===n||null===(o=n.data)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.id)?Je(!0):Je(!1)}),[Q.project.status]),Object(D.jsxs)("div",{className:"content",children:[Object(D.jsx)("div",{className:"max-w-600 w-600 margin-center m-t-40",children:Object(D.jsxs)("div",{className:"login-form-container p-20",children:[Object(D.jsx)("h3",{className:"bold text-dark",children:3!==ie?"Create Project":"Start Project"}),Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col-md-4 accordion-div  ".concat(1===ie&&"is-focus"),children:Object(D.jsx)(b.a,{type:"button",onClick:function(){return le(1)},children:Object(D.jsx)("div",{className:"radius50 w-2e h-2e center-items ".concat(1===ie?"border-wema":"faint-border"),children:Object(D.jsx)(m.a,{className:1===ie?"styled-mui":"text-muted",children:"1"})})})}),Object(D.jsx)("div",{className:"col-md-4 accordion-div  ".concat(2===ie&&"is-focus"),children:Object(D.jsx)(b.a,{disabled:function(){var e,t,a,n,o;return!((null===(e=Z.summary)||void 0===e?void 0:e.length)>0&&Z.donationTarget&&(null===Q||void 0===Q||null===(t=Q.project)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.data)||void 0===n||null===(o=n.id)||void 0===o?void 0:o.length)>0)},type:"button",onClick:function(){return le(2)},children:Object(D.jsx)("div",{className:"radius50 w-2e h-2e center-items ".concat(2===ie?"border-wema":"faint-border"),children:Object(D.jsx)(m.a,{className:2===ie?"styled-mui":"text-muted",children:"2"})})})}),Object(D.jsx)("div",{className:"col-md-4 accordion-div  ".concat(3===ie&&"is-focus"),children:Object(D.jsx)(b.a,{type:"button",onClick:function(){return le(3)},children:Object(D.jsx)("div",{className:"radius50 w-2e h-2e center-items ".concat(3===ie?"border-wema":"faint-border d-none"),children:Object(D.jsx)(m.a,{className:3===ie?"styled-mui":"text-muted",children:"3"})})})})]}),Object(D.jsxs)("div",{className:"login-form pb-5h",children:[3===ie&&Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"text-wema",children:[Object(D.jsx)("h4",{children:"Preview"}),Object(D.jsx)("p",{children:"Make all changes you consider necessary before submitting for approval"})]}),Object(D.jsx)("hr",{})]}),1===ie&&Object(D.jsx)(f.a,{formItems:T({formData:Z,categories:null===Q||void 0===Q||null===(e=Q.projectCategories)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data,multiple:!0,removeItem:Ye,setFormData:qe,progress:ae,skeleton:Be,excuseSkeleton:"title",handleBlur:Ge,handleChange:Le,handleDateChange:Me,btnMethod:function(){return $(Object(d.a)(Object(d.a)({},Z),{},{title:""}))},loading:{status:we&&(null===Q||void 0===Q||null===(a=Q.project)||void 0===a?void 0:a.status),text:"initializing your project"},errors:se})}),2===ie&&Object(D.jsx)(f.a,{formItems:k({formData:Z,states:h.a.states(),lgas:_e,skeleton:null===Q||void 0===Q||null===(n=Q.project)||void 0===n||null===(u=n.data)||void 0===u||null===(g=u.data)||void 0===g?void 0:g.id,excuseSkeleton:"title",handleBlur:Ge,handleChange:Le,handleDateChange:Me,errors:se})}),3===ie&&Object(D.jsx)(f.a,{formItems:E({formData:Z,categories:Q.projectCategories.data.data,multiple:!0,removeItem:Ye,skeleton:null===Q||void 0===Q||null===(C=Q.project)||void 0===C||null===(I=C.data)||void 0===I||null===(A=I.data)||void 0===A?void 0:A.id,excuseSkeleton:"title",setFormData:qe,progress:ae,handleBlur:Ge,handleChange:Le,handleDateChange:Me,btnMethod:function(){return $(Object(d.a)(Object(d.a)({},Z),{},{title:""}))},loading:{status:we&&Q.project.status,text:"initializing your project"},errors:se})}),Object(D.jsxs)("div",{children:[2===ie&&Object(D.jsx)("button",{type:"button",onClick:function(){le(1)},className:"text-wema w-25 viewMoreBtn",children:"< back"}),Object(D.jsxs)("div",{className:"col-md-8 float-right pb-md-3",children:[3!==ie&&Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)("button",{title:"save and continue later",className:"w-50 btn-plain text-wema border-wema hover-wema mr-md-1 btn-small",type:"button",disabled:!(null===Q||void 0===Q||null===(B=Q.project)||void 0===B||null===(J=B.data)||void 0===J||null===(U=J.data)||void 0===U||null===(q=U.id)||void 0===q?void 0:q.length)>0,onClick:Ue,children:"Save"}),1===ie?Object(D.jsx)("button",{className:"w-75 btn btn-small float-right",type:"button",disabled:!((null===(L=Z.summary)||void 0===L?void 0:L.length)>0&&Z.donationTarget&&(null===Q||void 0===Q||null===(M=Q.project)||void 0===M||null===(G=M.data)||void 0===G||null===(F=G.data)||void 0===F||null===(Y=F.id)||void 0===Y?void 0:Y.length)>0),onClick:function(){return le(2)},children:"Continue"}):Object(D.jsx)("button",{title:"submit for approval",className:"w-75 btn btn-small float-right",type:"button",onClick:function(){ke(!0),Ue()},children:"Done"})]}),3===ie&&Object(D.jsx)(j.a,{onClick:function(){H(S(Z))},children:"Submit"}),"pending"===Q.project.status&&!we&&Object(D.jsxs)("div",{className:"dots_loader d-flex",children:[3!==ie&&Object(D.jsx)("p",{className:"mr-md-1 pb-md-1",children:" saving your progress "}),3===ie&&Object(D.jsx)("p",{className:"mr-md-1 pb-md-1",children:" submitting..."}),Object(D.jsxs)("div",{className:"mt-md-1",children:[Object(D.jsx)("span",{}),Object(D.jsx)("span",{}),Object(D.jsx)("span",{}),Object(D.jsx)("span",{}),Object(D.jsx)("span",{}),Object(D.jsx)("span",{}),Object(D.jsx)("span",{})]})]})]})]})]})]})}),Object(D.jsx)(x.a,{className:me?"max-w-400 right top":"max-w-400 right top off",content:Object(D.jsx)(R,{status:null===(V=Q.project)||void 0===V?void 0:V.status,data:null===(z=Q.project)||void 0===z||null===(W=z.data)||void 0===W?void 0:W.data,handleClose:function(){be(!1),Te&&le(3)},setShow:be,text:function(){var e,t,a,n="your project has been submitted for approval. You will be notified by email in due time";3!==ie&&(n=void 0!==(null===Q||void 0===Q||null===(e=Q.project)||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.id)?"Your project ".concat(Z.title," has been saved"):"Your project ".concat(Z.title," has been initialized"));return n}()})})]})}}}]);
//# sourceMappingURL=12.fe8f8bbd.chunk.js.map