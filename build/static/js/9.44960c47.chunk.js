(this["webpackJsonpcrowd-funding-web"]=this["webpackJsonpcrowd-funding-web"]||[]).push([[9],{319:function(t,n,e){"use strict";e.d(n,"d",(function(){return p})),e.d(n,"a",(function(){return v})),e.d(n,"c",(function(){return f})),e.d(n,"b",(function(){return O}));var r=e(63),a=e.n(r),o=e(95),c=e(325),u=e.n(c),i=(e(29),"cfonboarding/"),s="cfcore/",d={LOGIN:"".concat(i).concat("Account/authenticate"),REGISTER:"".concat(i).concat("Account/register"),REGISTER_CORPORATE:"".concat(i).concat("Account/register/corporate"),VERIFY_INDIVIDUAL:"".concat(i).concat("Verification/personal"),VERIFY_CORPORATE:"".concat(i).concat("Verification/corporate"),VERIFY_ACCOUNT_OTP:"".concat(i).concat("Verification/verifyotp"),SEND_ACCOUNT_OTP:"".concat(i).concat("Verification/request"),REGISTER_INDIVIDUAL:"".concat(i).concat("Account/register/individual"),CHANGE_PASSWORD:"".concat(i).concat("Account/change_password"),RESET_PASSWORD:"".concat(i).concat("Account/reset_password"),FORGOT_PASSWORD:"".concat(i).concat("Account/forgot_password"),PROFILE_PICTURE:"".concat(s).concat("Uploads/profilepic"),PROJECT_MEDIA:"".concat(s).concat("Uploads/project"),DELETE_PROJECT_MEDIA:"".concat(s).concat("Uploads/project"),LOGO:"".concat(s).concat("Uploads/logo"),CREATE_PROJECT_NAME:"".concat(s).concat("Projects/createbyname"),CREATE_PROJECT:"".concat(s).concat("Projects"),VIEW_PROJECTS:"".concat(s).concat("Projects"),VIEW_PROJECT:"".concat(s).concat((function(t){return"Projects/".concat(t)})),EDIT_PROJECT:"".concat(s).concat("Projects"),DELETE_PROJECT:"".concat(s).concat((function(t){return"Projects/".concat(t)})),EDIT_PROJECT_UPDATES:"".concat(s).concat((function(t){return"ProjectUpdates"})),PROJECT_UPDATES:"".concat(s).concat((function(t){return"ProjectUpdates"})),UPDATE_PROJECT:"".concat(s).concat((function(t){return"ProjectUpdates"})),PROJECT_DETAILS:"".concat(s).concat((function(t){return"Projects"})),PROJECT_SUMMARY:"".concat(s).concat((function(t){return"Projects"})),PROJECT_BY_STATUS:"".concat(s).concat("Projects/byPublishStatus"),SUBMIT_PROJECT:"".concat(s).concat("Projects"),PROJECT_CATEGORIES:"".concat(s).concat("categories"),ME:"".concat(i).concat("/Profiles/me")},l=(e(5),e(35),function(){var t=Object(o.a)(a.a.mark((function t(n,e,r,c,i,s,l,p,v){var f,O,E,_,b,h,R;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f={"Content-Type":l?"multipart/form-data":"application/json"},O=d[n]||n,E="".concat("http://51.124.145.166/").concat(O),s&&(E+="/".concat(s)),p&&(E+="/".concat(p)),i&&(_=Object.keys(i).map((function(t){return i[t]&&"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(i[t]))})),E+="?".concat(_.join("&"))),r&&(b=localStorage.getItem("token"),f.Authorization="Bearer ".concat(b)),h={url:E,method:e,headers:f},c&&(h.data=c),v&&(R=0,h.onUploadProgress=function(t){var n=t.loaded,e=t.total;R=Math.floor(n/e*100),v(R)}),t.abrupt("return",u()(h).then((function(t){return t}),function(){var t=Object(o.a)(a.a.mark((function t(n){var e,r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===n||void 0===n||null===(e=n.response)||void 0===e||e.status,t.abrupt("return",null===n||void 0===n||null===(r=n.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.errors);case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()));case 11:case"end":return t.stop()}}),t)})));return function(n,e,r,a,o,c,u,i,s){return t.apply(this,arguments)}}()),p=function(t){var n=t.file,e=t.method,r=t.url,a=t.handleProgress,o=0,c=new FormData;c.append("file",n),u()({baseURL:"",method:e||"post",url:r,data:c,onUploadProgress:function(t){var n=t.loaded,e=t.total;o=Math.floor(n/e*100),a(o)}}).then((function(t){console.log(t)}))},v=function(t){var n=t.endpoint,e=t.pQuery,r=t.param,a=void 0===r?null:r,o=t.auth;return l(n,"GET",void 0===o||o,null,e,a)},f=function(t){var n=t.endpoint,e=t.body,r=t.auth,a=void 0===r||r,o=t.multipart,c=t.param,u=t.afterParam,i=t.setProgress;return l(n,"POST",a,e,null,c,o,u,i)},O=function(t){var n=t.endpoint,e=t.body,r=t.param,a=t.pQuery,o=t.auth,c=void 0===o||o,u=t.multipart;return l(n,"PATCH",c,e,a,r,u)}},321:function(t,n,e){"use strict";e.d(n,"d",(function(){return l})),e.d(n,"i",(function(){return p})),e.d(n,"h",(function(){return v})),e.d(n,"g",(function(){return f})),e.d(n,"f",(function(){return O})),e.d(n,"c",(function(){return E})),e.d(n,"a",(function(){return _})),e.d(n,"b",(function(){return b})),e.d(n,"e",(function(){return h}));var r=e(63),a=e.n(r),o=e(95),c=e(29),u=e.n(c),i=e(319),s=e(5),d=function(t,n,e){return function(){var r=Object(o.a)(a.a.mark((function r(o){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o(n(t)),r.abrupt("return",t.then((function(t){return e({response:t,dispatch:o})})));case 2:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()},l=function(t){var n=function(t){return{type:s.a.REGISTER_SUCCESS,response:t}};return function(){var e=Object(o.a)(a.a.mark((function e(r){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(i.c)({endpoint:"REGISTER",auth:!1,body:t}),r((a=o,{type:s.a.REGISTER_PENDING,request:a})),e.abrupt("return",o.then((function(t){var e;200===(null===t||void 0===t?void 0:t.status)||201===(null===t||void 0===t?void 0:t.status)?(u.a.setItem("user",t.data),localStorage.setItem("user",JSON.stringify(t.data.data.data.user)),r(n(null===t||void 0===t?void 0:t.data))):r((e=(null===t||void 0===t?void 0:t.errors)||t,{type:s.a.REGISTER_FAILURE,error:e}))})));case 3:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(t){console.log(t);var n=Object(i.a)({endpoint:"VERIFY_INDIVIDUAL",auth:!1,pQuery:t});return d(n,(function(t){return{type:s.a.VERIFY_INDIVIDUAL_PENDING,request:t}}),(function(t){var n,e=t.response,r=t.dispatch;200===(null===e||void 0===e?void 0:e.status)?r(function(t){return{type:s.a.VERIFY_INDIVIDUAL_SUCCESS,response:t}}(null===e||void 0===e?void 0:e.data)):r((n=e,{type:s.a.VERIFY_INDIVIDUAL_FAILURE,error:n}))}))},v=function(t){var n=Object(i.a)({endpoint:"VERIFY_CORPORATE",auth:!1,pQuery:t});return d(n,(function(t){return{type:s.a.VERIFY_CORPORATE_PENDING,request:t}}),(function(t){var n,e=t.response,r=t.dispatch;200===(null===e||void 0===e?void 0:e.status)?r(function(t){return{type:s.a.VERIFY_CORPORATE_SUCCESS,response:t}}(null===e||void 0===e?void 0:e.data)):r((n=e,{type:s.a.VERIFY_CORPORATE_FAILURE,error:n}))}))},f=function(t){var n=Object(i.c)({endpoint:"VERIFY_ACCOUNT_OTP",auth:!1,body:t});return d(n,(function(t){return{type:s.a.VERIFY_ACCOUNT_OTP_PENDING,request:t}}),(function(t){var n,e=t.response,r=t.dispatch;200===(null===e||void 0===e?void 0:e.status)?r(function(t){return{type:s.a.VERIFY_ACCOUNT_OTP_SUCCESS,response:t}}(null===e||void 0===e?void 0:e.data)):r((n=e,{type:s.a.VERIFY_ACCOUNT_OTP_FAILURE,error:n}))}))},O=function(t){var n=Object(i.a)({endpoint:"SEND_ACCOUNT_OTP",auth:!1,pQuery:t});return d(n,(function(t){return{type:s.a.SEND_ACCOUNT_OTP_PENDING,request:t}}),(function(t){var n,e=t.response,r=t.dispatch;200===(null===e||void 0===e?void 0:e.status)?r(function(t){return{type:s.a.SEND_ACCOUNT_OTP_SUCCESS,response:t}}(null===e||void 0===e?void 0:e.data)):r((n=e,{type:s.a.SEND_ACCOUNT_OTP_FAILURE,error:n}))}))},E=function(t){var n=function(t){return{type:s.a.LOGIN_SUCCESS,response:t}};return function(){var e=Object(o.a)(a.a.mark((function e(r){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(i.c)({endpoint:"LOGIN",auth:!1,body:t}),r((a=o,{type:s.a.LOGIN_PENDING,request:a})),e.abrupt("return",o.then((function(t){var e;200===(null===t||void 0===t?void 0:t.status)?(r(n(null===t||void 0===t?void 0:t.data)),u.a.setItem("user",t.data),localStorage.setItem("token",t.data.data.user.token),localStorage.setItem("user",JSON.stringify(t.data.data.user))):r((e=t,{type:s.a.LOGIN_FAILURE,error:e}))})));case 3:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(t){var n=function(t){return{type:s.a.CHANGE_PASSWORD_SUCCESS,response:t}};return function(){var e=Object(o.a)(a.a.mark((function e(r){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(i.c)({endpoint:"CHANGE_PASSWORD",auth:!0,body:t}),r((a=o,{type:s.a.CHANGE_PASSWORD_PENDING,request:a})),e.abrupt("return",o.then((function(t){var e;200===(null===t||void 0===t?void 0:t.status)?r(n(null===t||void 0===t?void 0:t.data)):r((e=null===t||void 0===t?void 0:t.errors,{type:s.a.CHANGE_PASSWORD_FAILURE,error:e}))})));case 3:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},b=function(t){var n=function(t){return{type:s.a.FORGOT_PASSWORD_SUCCESS,response:t}};return function(){var e=Object(o.a)(a.a.mark((function e(r){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(i.c)({endpoint:"FORGOT_PASSWORD",auth:!1,body:t}),r((a=o,{type:s.a.FORGOT_PASSWORD_PENDING,request:a})),e.abrupt("return",o.then((function(t){var e;200===(null===t||void 0===t?void 0:t.status)?r(n(null===t||void 0===t?void 0:t.data)):r((e=t,{type:s.a.FORGOT_PASSWORD_FAILURE,error:e}))})));case 3:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(t){var n=function(t){return{type:s.a.RESET_PASSWORD_SUCCESS,response:t}};return function(){var e=Object(o.a)(a.a.mark((function e(r){var o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(i.c)({endpoint:"RESET_PASSWORD",auth:!1,body:t}),r((a=o,{type:s.a.RESET_PASSWORD_PENDING,request:a})),e.abrupt("return",o.then((function(t){var e;200===(null===t||void 0===t?void 0:t.status)?r(n(null===t||void 0===t?void 0:t.data)):r((e=t,{type:s.a.RESET_PASSWORD_FAILURE,error:e}))})));case 3:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()}},442:function(t,n,e){"use strict";e.r(n);var r=e(96),a=e(1),o=e(47),c=e(2),u=e(98),i=e(328),s=e(315),d=function(t){var n=t.formData,e=t.handleBlur,r=t.handleChange,a=t.errors;return[{kind:"input",props:{className:"w-100 m-b-20",name:"current_password",type:"password",label:"Current Password",value:(null===n||void 0===n?void 0:n.current_password)||"",validations:{required:!0,pattern:s.k.password},error:null===a||void 0===a?void 0:a.current_password,onBlur:e,onChange:r}},{kind:"input",props:{className:"w-100 m-b-20",name:"new_password",type:"password",label:"New Password",value:(null===n||void 0===n?void 0:n.new_password)||"",validations:{required:!0,minLength:8},error:null===a||void 0===a?void 0:a.new_password,onBlur:e,onChange:r}},{kind:"input",props:{className:"w-100 m-b-20",name:"confirm_password",type:"password",label:"Confirm Password",value:(null===n||void 0===n?void 0:n.confirm_password)||"",validations:{required:!0,confirm_password:!0,confirmPassword:!0,original:null===n||void 0===n?void 0:n.new_password},error:null===a||void 0===a?void 0:a.confirm_password,onBlur:e,onChange:r}}]},l=e(316),p=e(97),v=e(321),f=e(3);n.default=function(){var t=Object(u.b)(),n=Object(u.c)((function(t){return t.auth.changePassword})),e=Object(c.useState)({}),O=Object(o.a)(e,2),E=O[0],_=O[1],b=Object(c.useState)({}),h=Object(o.a)(b,2),R=h[0],S=h[1],j=Object(c.useState)(!1),P=Object(o.a)(j,2),C=P[0],m=P[1],I=window.location.search.substring(1),T=Object(f.jsx)("div",{className:"failed"===(null===n||void 0===n?void 0:n.status)?"mt-5 p-5":"initial"===(null===n||void 0===n?void 0:n.status)||"pending"===(null===n||void 0===n?void 0:n.status)?"mt-5 p-5 ":"mt-5 p-5 bg-white",children:Object(f.jsxs)("div",{className:"text-wema",children:["pending"===(null===n||void 0===n?void 0:n.status)&&Object(f.jsx)("div",{className:"center-text text-white",children:"Loading..."}),"pending"!==(null===n||void 0===n?void 0:n.status)&&Object(f.jsxs)("div",{className:"",children:[Object(f.jsx)("h5",{className:"center-text text-muted",children:null===n||void 0===n?void 0:n.status}),Object(f.jsx)("div",{children:"failed"===(null===n||void 0===n?void 0:n.status)?Object(f.jsxs)("div",{children:["We cannot verify this email, try again!",Object(f.jsx)("button",{onClick:function(){return m(!1)},type:"button",className:"btn w-25 center btn-small float-right",children:"Ok"})]}):Object(f.jsx)("p",{children:"we have sent the next steps to your email."})})]})]})});return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("p",{children:"Change Password"}),Object(f.jsx)("div",{className:"max-w-600 w-600 margin-center m-t-40 ",children:Object(f.jsxs)("div",{className:"login-form-container p-20",children:[Object(f.jsx)("p",{className:"",children:"Change your password below"}),Object(f.jsx)("hr",{}),Object(f.jsxs)("div",{className:"login-form",children:[Object(f.jsx)(i.a,{formItems:d({formData:E,handleBlur:function(t,n){var e=t.target,o=e.name,c=e.value,u=Object(l.c)(o);"undefined"!==typeof u&&S(Object(a.a)(Object(a.a)({},R),{},Object(r.a)({},o,Object(s.i)(n,u,c))))},handleChange:function(t){var n=t.target,e=n.name,o=n.value;_((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},e,o))}))},errors:R})}),Object(f.jsx)("button",{type:"button",className:"text-wema float-left viewMoreBtn mt-3",onClick:function(){return window.location.replace("/forgot-password")},children:"< Back"}),Object(f.jsx)("button",{className:"w-50 btn btn-small float-right",type:"button",onClick:function(){m(!0),t(Object(v.a)(E,I))},children:"Change Password"})]})]})}),Object(f.jsx)(p.a,{className:C?"max-w-400 right top":"max-w-400 right top off",content:T})]})}}}]);
//# sourceMappingURL=9.44960c47.chunk.js.map